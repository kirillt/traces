import org.scalatest.FunSpec

class Precedents extends FunSpec {

  def fromCsv(line: String): List[Trace] = line.split('\n').map(Trace(_)).toList

  it("should find meetings here") {
    assert { Algorithm(1.0, 9, 7).detect("d05c03a0", "26fc890b") {
      fromCsv(
        "2014-07-19T16:06:36.412Z,103.79363,71.51647039899626,2,26fc890b\n" +
        "2014-07-19T16:06:40.687Z,97.317986,65.34794303341978,2,d05c03a0\n" +
        "2014-07-19T16:06:42.028Z,98.907715,66.81073639774323,2,d05c03a0\n" +
        "2014-07-19T16:06:43.890Z,101.10832,68.8828996569151,2,d05c03a0\n" +
        "2014-07-19T16:06:45.348Z,102.83099,70.5330303902775,2,d05c03a0\n" +
        "2014-07-19T16:06:46.044Z,108.71028,85.34179876022878,2,26fc890b\n" +
        "2014-07-19T16:06:50.991Z,103.76467,71.43394228249998,2,d05c03a0\n" +
        "2014-07-19T16:06:52.230Z,103.744576,71.43025303212949,2,d05c03a0\n" +
        "2014-07-19T16:06:54.180Z,103.7926,71.49945153480768,2,d05c03a0\n" +
        "2014-07-19T16:06:56.570Z,103.81836,71.53392066955567,2,d05c03a0\n" +
        "2014-07-19T16:06:57.761Z,103.85438,71.51059190344088,2,d05c03a0\n" +
        "2014-07-19T16:06:59.169Z,103.791145,71.48344999379688,2,d05c03a0\n" +
        "2014-07-19T16:07:06.098Z,103.806076,71.49927786740008,2,d05c03a0\n" +
        "2014-07-19T16:07:06.098Z,103.826515,71.50916122042597,2,26fc890b\n" +
        "2014-07-19T16:07:07.474Z,103.810875,71.47924921329157,2,d05c03a0\n" +
        "2014-07-19T16:07:08.492Z,103.81033,71.46738150376454,2,d05c03a0\n" +
        "2014-07-19T16:07:10.159Z,103.76321,71.44342179444642,2,d05c03a0\n" +
        "2014-07-19T16:07:15.827Z,103.82551,71.50681014416017,2,26fc890b")
    }.nonEmpty }
  }

}
